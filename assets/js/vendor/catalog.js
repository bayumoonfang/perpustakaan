(()=>{"use strict";var e,t={1154:(e,t,l)=>{var n=l(7294),r=l(3935),a=l(885),o=l(8445),c=l(9062),u=l(5861),i=l(4687),s=l.n(i);const d=function(e){console.log(e);var t,l,r,o,i,d,m,v=e.library,p=e.url,E=(0,n.useState)(!1),b=(0,a.Z)(E,2),g=b[0],f=b[1],h=(0,n.useState)(!1),y=(0,a.Z)(h,2),k=y[0],Z=y[1],w=(0,n.useState)(""),x=(0,a.Z)(w,2),S=x[0],C=x[1],j=(0,n.useState)(null),T=(0,a.Z)(j,2),O=T[0],B=T[1],F=(0,n.useState)([]),_=(0,a.Z)(F,2),K=_[0],P=_[1],I=(0,n.useState)(0),L=(0,a.Z)(I,2),R=L[0],G=L[1],H=(0,n.useState)([]),M=(0,a.Z)(H,2),N=M[0],z=M[1],A=(0,n.useState)(null),D=(0,a.Z)(A,2),J=(D[0],D[1],(0,n.useState)(!1)),q=(0,a.Z)(J,2),Q=q[0],U=q[1],V=(0,n.useState)(""),W=(0,a.Z)(V,2),X=W[0],Y=W[1],$=(0,n.useState)(""),ee=(0,a.Z)($,2),te=ee[0],le=ee[1],ne=(0,n.useState)(1),re=(0,a.Z)(ne,2),ae=re[0],oe=re[1],ce=function(){var e=(0,u.Z)(s().mark((function e(){var t,l,n,r,a,o,u,i,d,m,E,b,g,f,h=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>0&&void 0!==h[0]?h[0]:S,r=h.length>1&&void 0!==h[1]?h[1]:X,a=h.length>2&&void 0!==h[2]?h[2]:ae,o=p+"api/general/books",a<2&&P([]),Z(!0),e.next=8,fetch(o+"?library="+v+"&category="+n+"&search="+r+"&page="+a+"&limit=6",{method:"GET",headers:{"Content-Type":"application/json"}});case 8:return u=e.sent,e.next=11,u.json();case 11:i=e.sent,Z(!1),d=(0,c.Z)(K),a<2?P(null!==(m=null==i||null===(E=i.payload)||void 0===E?void 0:E.data)&&void 0!==m?m:[]):(f=null!==(b=null==i||null===(g=i.payload)||void 0===g?void 0:g.data)&&void 0!==b?b:[],d.push.apply(d,(0,c.Z)(f)),P(d)),oe(a),G(null!==(t=null==i||null===(l=i.payload)||void 0===l?void 0:l.total)&&void 0!==t?t:0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,u.Z)(s().mark((function e(){var t,l,n,r,a,o,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:X,r=p+"api/general/categories?library="+v+"&limit=1000000&page=0&search_book="+n,z([]),f(!0),e.next=6,fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});case 6:return a=e.sent,e.next=9,a.json();case 9:o=e.sent,f(!1),z(null!==(t=null==o||null===(l=o.payload)||void 0===l?void 0:l.data)&&void 0!==t?t:[]);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,u.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(t),ce(t,X,1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){ce(),ue()}),[]),(0,n.useEffect)((function(){K.length<R?U(!0):U(!1)}),[K,R]),O?n.createElement(n.Fragment,null,n.createElement("div",{class:"row mb-3"},n.createElement("div",{class:"d-grid gap-2 d-md-block"},n.createElement("button",{class:"btn btn-sm btn-primary",onClick:function(){return B(null)}},"Kembali"))),n.createElement("div",{class:"row mb-4"},n.createElement("div",{class:"col-md-3"},n.createElement("img",{src:null==O?void 0:O.cover,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src="http://localhost:8888/elibrary/assets/read.svg"},class:"card-img-top ",alt:"..."})),n.createElement("div",{class:"col-md-8"},n.createElement("ul",{style:{listStyleType:"none",paddingLeft:0}},n.createElement("li",null,n.createElement("h5",null,null==O?void 0:O.title)),n.createElement("li",null,"Kode: ",n.createElement("b",null,null!==(t=null==O?void 0:O.code)&&void 0!==t?t:"-")),n.createElement("li",null,"ISBN: ",n.createElement("b",null,null!==(l=null==O?void 0:O.isbn)&&void 0!==l?l:"-")),n.createElement("li",null,"Pengarang: ",n.createElement("b",null,null!==(r=null==O?void 0:O.author)&&void 0!==r?r:"-")),n.createElement("li",null,"Publisher: ",n.createElement("b",null,null!==(o=null==O?void 0:O.publisher)&&void 0!==o?o:"-")," Tahun: ",n.createElement("b",null,null!==(i=null==O?void 0:O.year)&&void 0!==i?i:"-")),n.createElement("li",null,"Rak: ",n.createElement("b",null,null!==(d=null==O?void 0:O.rak_name)&&void 0!==d?d:"-")),n.createElement("li",null,"Stok: ",n.createElement("span",{class:"badge bg-primary rounded-pill"},null==O?void 0:O.stok)),n.createElement("li",null,n.createElement("i",{class:"text-secondary"},null==O||null===(m=O.library)||void 0===m?void 0:m.library_name)))))):n.createElement(n.Fragment,null,n.createElement("div",{class:"row mb-3"},n.createElement("div",{class:"input-group"},n.createElement("input",{onChange:function(e){return le(e.target.value)},value:te,type:"text",class:"form-control",placeholder:"Masukkan Kode / Judul / ISBN buku untuk mencari"}),n.createElement("button",{disabled:""===te,class:"btn btn-primary",onClick:function(){""!==te&&(Y(te),C(""),ce("",te,1),ue(te))},type:"button"},"Cari Buku"),n.createElement("button",{class:"btn btn-success",onClick:function(){C(""),le(""),Y(""),ce("","",1),ue("")},type:"button"},"Reset"))),n.createElement("div",{class:"row mb-3"},n.createElement("div",{class:"col-md-3 border-end"},n.createElement("h6",null,"Kategori"),n.createElement("hr",null),N&&N.length>0&&n.createElement("div",{class:"list-group"},N.map((function(e,t){return n.createElement("button",{onClick:function(){ie(null==e?void 0:e.id)},class:"list-group-item list-group-item-action d-flex justify-content-between align-items-start ".concat(S&&S===(null==e?void 0:e.id)?"active":""),key:t.toString()},n.createElement("div",{class:"ms-2 me-auto"},n.createElement("div",{class:"fw-bold"},null==e?void 0:e.category)),n.createElement("span",{class:"badge bg-".concat(S&&S===(null==e?void 0:e.id)?"secondary":"primary"," rounded-pill")},null==e?void 0:e.jml_buku))}))),g&&n.createElement("div",{class:"text-center"},n.createElement("div",{class:"spinner-border",role:"status"},n.createElement("span",{class:"visually-hidden"},"Loading...")))),n.createElement("div",{class:"col-md-9"},n.createElement("h6",null,"Daftar Buku"),n.createElement("hr",null),X&&n.createElement("p",null,n.createElement("em",null,n.createElement("small",null,"Pencarian buku untuk ",n.createElement("strong",null,'"',X,'"')))),K&&K.length>0&&n.createElement("div",{class:"row"},K.map((function(e,t){var l,r="http://localhost:8888/elibrary/assets/read.svg";return""===(null==e?void 0:e.cover)&&null===(null==e?void 0:e.cover)||(r=null==e?void 0:e.cover),n.createElement("div",{class:"col-md-4 mb-3"},n.createElement("div",{class:"card",style:{cursor:"pointer"},onClick:function(){return function(e){B(e)}(e)}},n.createElement("img",{src:r,onError:function(e){var t=e.currentTarget;t.onerror=null,t.src="http://localhost:8888/elibrary/assets/read.svg"},class:"card-img-top ",alt:"...",style:{objectFit:"cover",height:249}}),n.createElement("div",{class:"card-body"},n.createElement("h6",{class:"card-title"},null==e?void 0:e.title),n.createElement("ul",{class:"list-unstyled"},n.createElement("li",null,"- ",n.createElement("em",null,null==e||null===(l=e.category)||void 0===l?void 0:l.name)),n.createElement("li",null,"- Author : ",n.createElement("strong",null,null==e?void 0:e.author)),n.createElement("li",null,"- Rak : ",n.createElement("strong",null,null==e?void 0:e.rak_name)),n.createElement("li",null,"- Stok : ",n.createElement("span",{class:"badge bg-primary rounded-pill"},null==e?void 0:e.stok))))))}))),!k&&K.length<1&&n.createElement("div",{class:"alert alert-danger text-center",role:"alert"},"Tidak ada daftar buku yang ditampilkan"),k&&n.createElement("div",{class:"text-center"},n.createElement("div",{class:"spinner-border",role:"status"},n.createElement("span",{class:"visually-hidden"},"Loading..."))),!k&&Q&&n.createElement("div",{class:"text-center"},n.createElement("button",{class:"btn btn-block btn-primary",onClick:function(){ce(S,X,ae+1)}},"load more")))))};var m=l(1945);const v=function(e){var t=(0,n.useState)(!1),l=(0,a.Z)(t,2),r=l[0],c=l[1];return n.createElement(n.Fragment,null,n.createElement("button",{onClick:function(){return c(!0)},style:{width:"100%",backgroundColor:"#93FFE8",color:"black"},class:"btn-block btn rounded-pill pxp-sign-hero-form-cta mb-2"},"Katalog Buku"),n.createElement(o.Z,{size:"xl",show:r,onHide:function(){return c(!1)}},n.createElement(o.Z.Header,null,n.createElement(o.Z.Title,null,"Katalog Buku")),n.createElement(o.Z.Body,null,n.createElement(d,e)),n.createElement(o.Z.Footer,null,n.createElement(m.Z,{variant:"secondary",onClick:function(){return c(!1)}},"Batal"))))};var p=document.getElementById("button_catalog");r.render(n.createElement(v,p.dataset),p)}},l={};function n(e){var r=l[e];if(void 0!==r)return r.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,l,r,a)=>{if(!l){var o=1/0;for(s=0;s<e.length;s++){for(var[l,r,a]=e[s],c=!0,u=0;u<l.length;u++)(!1&a||o>=a)&&Object.keys(n.O).every((e=>n.O[e](l[u])))?l.splice(u--,1):(c=!1,a<o&&(o=a));if(c){e.splice(s--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[l,r,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=701,(()=>{var e={701:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var r,a,[o,c,u]=l,i=0;if(o.some((t=>0!==e[t]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(u)var s=u(n)}for(t&&t(l);i<o.length;i++)a=o[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},l=self.webpackChunkelibrary=self.webpackChunkelibrary||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=n.O(void 0,[736],(()=>n(1154)));r=n.O(r)})();